<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Instagram - E.I.O</title>
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="crm.css">
</head>

<body class="eio-dashboard-body">
    <aside class="eio-sidebar">
        <div class="eio-sidebar-header">
            <img src="public/assets/official_brand_rocket.png" alt="E.I.O" class="eio-sidebar-logo">
            <div class="eio-sidebar-title">
                <span class="eio-title-main">E.I.O</span>
                <span class="eio-title-sub">CRM</span>
            </div>
        </div>

        <nav class="eio-sidebar-nav">
            <a href="dashboard.html" class="eio-nav-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 10L10 3L17 10M5 8V17H8V13H12V17H15V8" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Voltar ao Dashboard</span>
            </a>

            <a href="dashboard.html#agents" class="eio-nav-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>Agentes IA</span>
            </a>

            <a href="#all" class="eio-nav-item eio-nav-item-active" data-view="all">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M17 21V19C17 17.9 16.6 16.9 15.8 16.2C15 15.4 14 15 13 15H5C3.9 15 2.9 15.4 2.2 16.2C1.4 16.9 1 17.9 1 19V21"
                        stroke="currentColor" stroke-width="2" />
                    <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Todos os Leads</span>
            </a>

            <a href="#new" class="eio-nav-item" data-view="new">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 2V18M2 10H18" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Novos</span>
            </a>

            <a href="#contacted" class="eio-nav-item" data-view="contacted">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M18 10C18 14.42 14.42 18 10 18C9 18 8 17.8 7 17.4L3 18L4 14C3 12.5 2 10.8 2 10C2 5.58 5.58 2 10 2C14.42 2 18 5.58 18 10Z"
                        stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Contactados</span>
            </a>

            <a href="#qualified" class="eio-nav-item" data-view="qualified">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M9 12L11 14L15 10M21 12C21 16.97 16.97 21 12 21C7.03 21 3 16.97 3 12C3 7.03 7.03 3 12 3C16.97 3 21 7.03 21 12Z"
                        stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Qualificados</span>
            </a>

            <a href="#converted" class="eio-nav-item" data-view="converted">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M20 12C20 16.42 16.42 20 12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12Z"
                        stroke="currentColor" stroke-width="2" />
                    <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>Convertidos</span>
            </a>
        </nav>

        <!-- Quick Stats -->
        <div class="eio-crm-stats">
            <div class="eio-stat-mini">
                <div class="eio-stat-value">0</div>
                <div class="eio-stat-label">Total Leads</div>
            </div>
            <div class="eio-stat-mini">
                <div class="eio-stat-value">0</div>
                <div class="eio-stat-label">Pendentes</div>
            </div>
            <div class="eio-stat-mini">
                <div class="eio-stat-value">0</div>
                <div class="eio-stat-label">Este Mês</div>
            </div>
        </div>
    </aside>

    <main class="eio-main-content">
        <header class="eio-topbar">
            <div class="eio-topbar-left">
                <h1 class="eio-page-title">CRM Instagram</h1>
                <div class="eio-search-box">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="2" />
                        <path d="M11 11L14 14" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <input type="search" placeholder="Buscar leads..." id="searchLeads">
                </div>
            </div>

            <div class="eio-topbar-right">


                <button class="eio-btn eio-btn-primary" id="btnAddLead">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" />
                    </svg>
                    Adicionar Lead
                </button>
            </div>
        </header>

        <div class="eio-page-content">
            <!-- Kanban Board -->
            <div class="eio-kanban-board" id="kanbanBoard">
                <div class="eio-kanban-column" data-status="new">
                    <div class="eio-column-header">
                        <h4>Novos</h4>
                        <span class="eio-badge eio-badge-count">0</span>
                    </div>
                    <div class="eio-column-content" id="column-new">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <div class="eio-kanban-column" data-status="contacted">
                    <div class="eio-column-header">
                        <h4>Contactados</h4>
                        <span class="eio-badge eio-badge-count">0</span>
                    </div>
                    <div class="eio-column-content" id="column-contacted">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <div class="eio-kanban-column" data-status="qualified">
                    <div class="eio-column-header">
                        <h4>Qualificados</h4>
                        <span class="eio-badge eio-badge-count">0</span>
                    </div>
                    <div class="eio-column-content" id="column-qualified">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <div class="eio-kanban-column" data-status="converted">
                    <div class="eio-column-header">
                        <h4>Convertidos</h4>
                        <span class="eio-badge eio-badge-count">0</span>
                    </div>
                    <div class="eio-column-content" id="column-converted">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Lead Details Modal -->
    <div class="eio-modal" id="leadModal">
        <div class="eio-modal-overlay"></div>
        <div class="eio-modal-content eio-modal-large">
            <div class="eio-modal-header">
                <h3>Detalhes do Lead</h3>
                <button class="eio-modal-close">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
            </div>
            <div class="eio-modal-body">
                <div class="eio-lead-details-grid">
                    <div class="eio-lead-main">
                        <div class="eio-lead-profile">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=new-lead" alt="Lead Avatar"
                                class="eio-lead-avatar" id="leadAvatar">
                            <div>
                                <h4 id="leadName"></h4>
                                <a href="#" id="leadUsername" target="_blank"></a>
                            </div>
                        </div>

                        <div class="eio-form-group">
                            <label>Tags</label>
                            <input type="text" class="eio-input" id="leadTags"
                                placeholder="cliente, fitness, iniciante">
                        </div>

                        <div class="eio-form-group">
                            <label>Notas</label>
                            <textarea class="eio-input" id="leadNotes" rows="6"></textarea>
                        </div>

                        <div class="eio-form-group">
                            <label>Próximo Follow-up</label>
                            <input type="datetime-local" class="eio-input" id="leadFollowup">
                        </div>
                    </div>

                    <div class="eio-lead-timeline">
                        <h5>Histórico de Interações</h5>
                        <div class="eio-timeline" id="leadTimeline">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="eio-modal-footer">
                <button class="eio-btn eio-btn-outline eio-btn-danger">Deletar Lead</button>
                <div style="flex: 1;"></div>
                <button class="eio-btn eio-btn-ghost" id="btnCloseLead">Fechar</button>
                <button class="eio-btn eio-btn-primary" id="btnSaveLead">Salvar Alterações</button>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="crm.js"></script>
</body>

</html>